#:import Card kivymd.cards.MDCard

<GetTextDialog@MDInputDialog>:
    id: text_input
    result: ""
    on_touch_up: self.parent.do_edit(self.text_field)
    events_callback: self.parent.test_callback

<AnswerInput>:
    id: input_box
    size_hint: 0.6, 0.4
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    MDCard:
        BoxLayout:
            orientation: "vertical"
            padding: 30
            spacing: 30
            MDLabel:
                id: title
                text: "Title"
            MDTextField:
                size_hint: 0.8, None
                multiline: False
                pos_hint: {'center_x': 0.5, 'center_y': 0.2}
                id: text_input
            MDRaisedButton:
                size_hint: None, None
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                text: "OK"
                on_release: self.parent.parent.parent.parent.do_edit(text_input.text)

<AccountButtons>:
    id: account_buttons
    BoxLayout:
        pos: self.parent.width-withdraw_button.width-10, 0
        orientation: "vertical"
        padding: 10
        spacing: 10
        MDRaisedButton:
            id: withdraw_button
            _radius: 5
            text: "Withdraw"
            size: 300, 35
            on_release: account_buttons.parent.parent.parent.parent.request_edit("withdraw")
        MDRaisedButton:
            _radius: 5
            text: "Deposit     "
            size: 300, 35
            on_release: account_buttons.parent.parent.parent.parent.request_edit("deposit")


<MenuField>:
    on_release: if self.editable == True: self.parent.parent.parent.request_edit(self.ids.field_title.text)
    size_hint: (1, None)
    height: 100

    RelativeLayout:
        id: edit_button_container
        size: 40, 40
        HollowIcon:
            pos: self.parent.width-self.width, self.parent.height/3
            icon: 'chevron-right'

    RelativeLayout:
        MDLabel:
            id: field_title
            pos: 20, self.parent.height/5
            font_style: 'H5'
            theme_text_color: 'Primary'
            text: "Title"

        MDLabel:
            id: field_data
            pos: 20, -self.parent.height/5
            font_style: 'Subtitle1'
            theme_text_color: 'Primary'
            text: "text"

<RoundImage>:
    canvas:
        Color:
            rgb: (1, 1, 1)
        Ellipse:
            source: "assets/jigglypuff.png"
            id: image_container
            pos: 250, 500
            size: 20, 20
            angle_start: 0
            angle_end: 360
            size: 100, 100

<UserProfileView>:
    id: user_profile_view
    ScrollView:
        id:scroll_view
        do_scroll_x: False
        do_scroll_y: True

        BoxLayout:
            height: self.minimum_height
            id: scroll_view_container
            padding: 30
            spacing: 30
            orientation: 'vertical'
            size_hint_y: None

            BoxLayout:
                id: image_container
                size_hint: None, None
                size: 300, 300
                pos_hint_x: 0.5
                RelativeLayout:

                    canvas:
                        Color:
                            rgb: (1, 1, 1)
                        Ellipse:
                            source: "assets/jigglypuff.png"
                            id: image_container
                            angle_start: 0
                            angle_end: 360
                            size: 300, 300
                            pos: user_profile_view.size[0]/2-self.size[0]/2,0

                    MDIconButton:
                        id: avatar_edit_button
                        icon: 'image'
                        pos: user_profile_view.size[0]/2+1.8*self.size[0], 0
                        on_release: root.do_avatar_edit()